<!DOCTYPE html>
<!--
This is a starter template page. Use this page to start your new project from
scratch. This page gets rid of all links and provides the needed markup only.
-->
<html>
  <head>
    <meta charset="UTF-8">
    <title>MetaGen | NewProject</title>
    <!-- Tell the browser to be responsive to screen width -->
    <meta content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no" name="viewport">
    <!-- Bootstrap 3.3.4 -->
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='template/bootstrap/css/bootstrap.min.css') }}"></link>
    <!-- Font Awesome Icons -->
    <link href="https://maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css" rel="stylesheet" type="text/css" />
    <!-- Ionicons -->
    <link href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css" rel="stylesheet" type="text/css" />
    <!-- Theme style -->
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='template/dist/css/AdminLTE.css') }}"></link>
    <!-- AdminLTE Skins. We have chosen the skin-blue for this starter
          page. However, you can choose any other skin. Make sure you
          apply the skin class to the body tag so the changes take effect.
    -->
    <link rel="stylesheet" type="text/css" href="{{ url_for('static', filename='template/dist/css/skins/skin-blue.min.css') }}"></link>

    <!-- HTML5 Shim and Respond.js IE8 support of HTML5 elements and media queries -->
    <!-- WARNING: Respond.js doesn't work if you view the page via file:// -->
    <!--[if lt IE 9]>
        <script src="https://oss.maxcdn.com/html5shiv/3.7.2/html5shiv.min.js"></script>
        <script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
    <![endif]-->

    <!-- pretty tables -->
    <link href="http://handsontable.com//bower_components/handsontable/dist/handsontable.full.min.css" rel="stylesheet">
		<script src="http://handsontable.com//bower_components/handsontable/dist/handsontable.full.min.js"></script>
		<script src="http://handsontable.com//bower_components/ruleJS/dist/full/ruleJS.all.full.js"></script>
		<script src="http://handsontable.com//bower_components/handsontable-ruleJS/src/handsontable.formula.js"></script>

    <!--main js file-->
    <script type="text/javascript" src="{{ url_for('static', filename='js/metadata.js') }}"></script>

    <script>
      var $SCRIPT_ROOT = {{ request.script_root|tojson|safe }};
		</script>


  </head>
  <!--
  BODY TAG OPTIONS:
  =================
  Apply one or more of the following classes to get the
  desired effect
  |---------------------------------------------------------|
  | SKINS         | skin-blue                               |
  |               | skin-black                              |
  |               | skin-purple                             |
  |               | skin-yellow                             |
  |               | skin-red                                |
  |               | skin-green                              |
  |---------------------------------------------------------|
  |LAYOUT OPTIONS | fixed                                   |
  |               | layout-boxed                            |
  |               | layout-top-nav                          |
  |               | sidebar-collapse                        |
  |               | sidebar-mini                            |
  |---------------------------------------------------------|
  -->
  <body class="skin-blue sidebar-mini">
    <div class="wrapper">

      <!-- Main Header -->
      <header class="main-header">

        <!-- Logo -->
        <a href="index2.html" class="logo">
          <!-- mini logo for sidebar mini 50x50 pixels -->
          <span class="logo-mini"><b>M</b>Gn</span>
          <!-- logo for regular state and mobile devices -->
          <span class="logo-lg"><b>Meta</b>Gen</span>
        </a>

        <!-- Header Navbar -->
        <nav class="navbar navbar-static-top" role="navigation">
          <!-- Sidebar toggle button-->
          <a href="#" class="sidebar-toggle" data-toggle="offcanvas" role="button">
            <span class="sr-only">Toggle navigation</span>
          </a>
          <!-- Navbar Right Menu -->
          <div class="navbar-custom-menu">
            <ul class="nav navbar-nav">

              <!-- Tasks Menu -->
              <li class="dropdown tasks-menu">
                <!-- Menu Toggle Button -->
                <a href="#" class="dropdown-toggle" data-toggle="dropdown">
                  <i class="fa fa-flag-o"></i>
                  <span class="label label-danger">9</span>
                </a>
                <ul class="dropdown-menu">
                  <li class="header">Your assembly is done</li>
                  <li>
                    <!-- Inner menu: contains the tasks -->
                    <ul class="menu">
                      <li><!-- Task item -->
                        <a href="#">
                          <!-- Task title and progress text -->
                          <h3>
                            Project analysis
                            <small class="pull-right">100%</small>
                          </h3>
                          <!-- The progress bar -->
                          <div class="progress xs">
                            <!-- Change the css width attribute to simulate progress -->
                            <div class="progress-bar progress-bar-aqua" style="width: 100%" role="progressbar" aria-valuenow="20" aria-valuemin="0" aria-valuemax="100">
                              <span class="sr-only">100% Complete</span>
                            </div>
                          </div>
                        </a>
                      </li><!-- end task item -->
                    </ul>
                  </li>
                  <li class="footer">
                    <a href="#">View all tasks</a>
                  </li>
                </ul>
              </li>
              <!-- User Account Menu -->

              <!-- Control Sidebar Toggle Button -->
              <li>
                <a href="#" data-toggle="control-sidebar"><i class="fa fa-gears"></i></a>
              </li>
            </ul>
          </div>
        </nav>
      </header>

      <!-- Left side column. contains the logo and sidebar -->
      <aside class="main-sidebar">

        <!-- sidebar: style can be found in sidebar.less -->
        <section class="sidebar">

          <!-- Sidebar user panel (optional) -->
          <div class="user-panel" style="height:100px">
            <div class="pull-left image">
              <img src="/zhanglab/software/CMetAnn/static/template/dist/img/user.png" class="img-circle" alt="User Image" />
            </div>
            <div class="pull-left info">
              <p id="UserName1"></p>
              <p id="userID"></p>
              <p id="UserContact"></p>
            </div>
          </div>

          <!-- search form (Optional) -->
          <form action="#" method="get" class="sidebar-form">
            <div class="input-group">
              <input type="text" name="q" class="form-control" placeholder="Search..." />
              <span class="input-group-btn">
                <button type="submit" name="search" id="search-btn" class="btn btn-flat"><i class="fa fa-search"></i></button>
              </span>
            </div>
          </form>
          <!-- /.search form -->

          <!-- Sidebar Menu -->
          <ul class="sidebar-menu">
            <li class="header">HEADER</li>
            <!-- Optionally, you can add icons to the links -->
            <li class="active"><a href="#"><i class="fa fa-link"></i> <span>Project Setup</span></a></li>
            <li><a href="#"><i class="fa fa-link"></i> <span>Metadata Setup</span></a></li>
            <li class="treeview">
              <a href="#"><i class="fa fa-link"></i> <span>Upload</span> <i class="fa fa-angle-left pull-right"></i></a>
              <ul class="treeview-menu">
                <li><a href="#">Link in level 2</a></li>
                <li><a href="#">Link in level 2</a></li>
              </ul>
            </li>
          </ul><!-- /.sidebar-menu -->
        </section>
        <!-- /.sidebar -->
      </aside>




































      <!-- Content Wrapper. Contains page content -->
      <div class="content-wrapper" style="height:2500px">
        <!-- Content Header (Page header) -->

        <!-- Main content -->
        <!--############################-->
        <section class="content">


























          <div class="col-md-7" >
            <div class="box box-primary" hidden id="updateProjectSetupForm">
               <div class="box-header with-border">

                 <h3> Project Name:  <small id="updatePname"></small> </h3>
                 <h3> Project ID:  <small id="updatePid"></small> </h3>
                 <h3> Project Description:  <small id="updatePdescription"></small> </h3>

               </div><!-- /.box-header -->
             </div><!-- /.box -->

            <div class="box box-primary" id="MainProjectSetup">
               <div class="box-header with-border">

                 <h3>
                   Project Setup
                   <small>All fields required</small>
                 </h3>

                 <p>Please fill the form below and click on submit once you have finished. Changes on this form can be made once the
                 project have been fully analyzed. The project ID will be generated automatically by the software and will be
                 shown in all the analysis.</p>
               </div><!-- /.box-header -->
               <!-- form start -->

                 <div class="box-body">
                   <div class="form-group">
                     <label for="ProjectName">Project Name</label>
                     <input type="text" class="form-control" id="ProjectName" placeholder="Enter name of your project">
                   </div>
                   <!--
                   <div class="form-group">
                     <label for="ProjectShortDescription">Project Short description</label>
                     <input type="textarea" style="width:100%; height:40px; overflow:auto" id="ProjectShortDescription" placeholder="Enter a short description of the project">
                   </div> -->

                  <label>Project description</label>
                   <div class="form-group">
                     <textarea style="width:100%; height:100px" id="ProjectDescription" placeholder="Enter the full description of the project"></textarea>
                   </div>

                 </div><!-- /.box-body -->

                 <div class="box-footer">
                   <button id="SubmitProject" class="btn btn-primary">Submit</button>
                 </div>

             </div><!-- /.box -->
          </div>























































          <!-- Your Page Content Here -->
          <div class="col-md-7" hidden id='SamplesSetupMain'>
            <div class="box box-primary">
              <div class="box-header with-border">
                <h3 id="samplesTitle">
                  Metagenome Setup <small>All fields required</small>
                </h3>

                <div class="form-group">
                  <label for="NumberSamples">Number of samples</label>
                  <p>Insert the number of samples for your project, then, click outside of the box.</p>
                  <input type="text" style="width:8%" class="form-control" id="NumberSamples" placeholder="" onchange="setupNumberSamples()">
                </div>

                <div id="table" style='height:100%; width:100%; overflow:auto'></div>
              </div>
              <div class="box-footer" id='buttonhide'>
                <button id="submitMetagenome" class="btn btn-primary">Submit</button>
              </div>
            </div>
          </div>



















          <!-- Your Page Content Here -->
          <div class="col-md-7" hidden id="UploadFilesMain">
            <div class="box box-primary">
              <div class="box-header with-border">
                <h3>
                 Upload Files <small>fastq, fasta files</small>

                </h3>
                <p>
                  Select all the read files for your samples. Note that the name of any read file has to be the same
                  as the name placed on the Metadata spreadsheet. If the names are not the same the program will
                  not run and automatically will trigger an exception.
                </p>

                <form id="upload-file" method="post" enctype="multipart/form-data">
                    <fieldset>
                        <label for="file">Select a file</label>
                        <input name="file" type="file">
                        <input name="projectid" type='text' value="" id="setProjectNameinLoad" hidden>
                    </fieldset>
                </form>

              </div>

              <div class="box-footer">
                <button id="upload-file-btn" type="button"  class="btn btn-primary">Upload</button>
              </div>

            </div>
          </div>



































          <!-- Your Page Content Here
          <div class="col-md-7">
            <div class="box box-primary">
              <div class="box-header with-border">
                <h3>
                  5: Pipeline parameters <small> assembly, alignment</small>
                </h3>
                <p>

                </p>

              </div>
            </div>
          </div>
          -->































          <!-- Your Page Content Here -->
          <div class="col-md-7" hidden id="RunMetaGenMain">
            <div class="box box-primary">
              <div class="box-header with-border">
                <h3>
                  Submit <small> Run MetaGen pipeline</small>
                </h3>

                <div>
                  <label for="xyz">Select sample: </label>
                  <select id='SampleNameSelect'>
                    <option>Name </option>
                  </select>

                  <select id='Read1Select'>
                    <option>Fastq 1</option>
                  </select>
                  <select id='Read2Select'>
                    <option>Fastq 2</option>
                  </select>

                  <select id='PipelineSelect'>
                    <option>Pipeline</option>
                    <option value='assembly'>Assembly</option>
                    <option value='alignment'>Matches</option>
                  </select>

                </div>


                <p>
                </p>

              </div>
              <div class="box-footer">
                <button id="RunMetaGen" class="btn btn-primary">Submit</button>
              </div>
            </div>
          </div>

        </section><!-- /.content -->































      </div><!-- /.content-wrapper -->









































      <!-- Main Footer -->
      <footer class="main-footer">
        <!-- To the right -->
        <div class="pull-right hidden-xs">
          Computer Science department VT
        </div>
        <!-- Default to the left -->
        <strong>Copyright &copy; 2015 <a href="#">Virginia Tech</a>.</strong> All rights reserved.
      </footer>

      <!-- Control Sidebar -->
      <aside class="control-sidebar control-sidebar-dark control-sidebar-open">
        <!-- Create the tabs -->
        <ul class="nav nav-tabs nav-justified control-sidebar-tabs">
          <li class="active"><a href="#control-sidebar-home-tab" data-toggle="tab"><i class="fa fa-home"></i></a></li>
          <li><a href="#control-sidebar-settings-tab" data-toggle="tab"><i class="fa fa-gears"></i></a></li>
        </ul>
        <!-- Tab panes -->
        <div class="tab-content">
          <!-- Home tab content -->
          <div class="tab-pane active" id="control-sidebar-home-tab">


            <ul class="control-sidebar-menu">
              <li>
                <a href="javascript::;">
                  <h4 class="control-sidebar-subheading">
                    Project Setup
                    <span id="StatusBarLabel" class="label label-danger pull-right">0%</span>
                  </h4>
                  <div class="progress progress-xxs" id='StatusBar'>
                    <div  class="progress-bar progress-bar-danger" style="width: 0%"></div>
                  </div>
                </a>
              </li>
            </ul><!-- /.control-sidebar-menu -->


            <h3 class="control-sidebar-heading">Terminology</h3>
            <ul class="control-sidebar-menu">
                <li>
                  <div>

                     <p>This section help you to get started on completing the data parameters associated to your samples.</p>

                    <ul>
                    <li><b>Project</b> - a set of samples comprising different conditions</li>
                    <li><b>Sample</b> - a single entity that has been obtained for analysis</li>
                    <li><b>Environment</b> - the characteristics which describe the environment in which your samples were obtained </li>
                    <li><b>Sample set</b> - a group of samples sharing the same library and environmental characteristics</li>
                    <li><b>Library preparation</b> - Environmental package the sample belongs to. (metagenome, meta transcriptome, amplicon metagenome 16s)</li>
                    <li><b>Reads 1-2</b> - The file names corresponding to the data from your library (fasq-fasta format). Be aware that this name has to be </strong>EXACTLY</strong> the same as the file you will upload.</li>
                  </ul>
                </div>
              </li>

            </ul>

















          </div><!-- /.tab-pane -->
          <!-- Stats tab content -->
          <div class="tab-pane" id="control-sidebar-stats-tab">Stats Tab Content</div><!-- /.tab-pane -->
          <!-- Settings tab content -->
          <div class="tab-pane" id="control-sidebar-settings-tab">
            <form method="post">
              <h3 class="control-sidebar-heading">General Settings</h3>
              <div class="form-group">
                <label class="control-sidebar-subheading">
                  Report panel usage
                  <input type="checkbox" class="pull-right" checked />
                </label>
                <p>
                  Some information about this general settings option
                </p>
              </div><!-- /.form-group -->
            </form>
          </div><!-- /.tab-pane -->
        </div>
      </aside><!-- /.control-sidebar -->
      <!-- Add the sidebar's background. This div must be placed
           immediately after the control sidebar -->
      <div class="control-sidebar-bg"></div>
    </div><!-- ./wrapper -->

























    <!-- REQUIRED JS SCRIPTS -->

    <!-- jQuery 2.1.4 -->
    <script type="text/javascript" src="{{ url_for('static', filename='template/plugins/jQuery/jQuery-2.1.4.min.js') }}"></script>
    <!-- Bootstrap 3.3.2 JS -->
    <script type="text/javascript" src="{{ url_for('static', filename='template/bootstrap/js/bootstrap.min.js') }}"></script>
    <!-- AdminLTE App -->
    <script type="text/javascript" src="{{ url_for('static', filename='template/dist/js/app.min.js') }}"></script>

    <!-- Optionally, you can add Slimscroll and FastClick plugins.
          Both of these plugins are recommended to enhance the
          user experience. Slimscroll is required when using the
          fixed layout. -->
  </body>
</html>
